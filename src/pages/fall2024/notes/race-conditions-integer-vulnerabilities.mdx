---
layout: ../../../semesters/Fall2024Markdown.astro
---

# Race Conditions and Integer vulnerabilities

## Introductions

- introductions of two students

## Questions on the readings

The readings today are from
[Computer Security and the Internet](https://people.scs.carleton.ca/~paulv/toolsjewels.html]),
[Chapter 6](https://people.scs.carleton.ca/~paulv/toolsjewels/TJrev1/ch6-rev1.pdf),
sections 6.0 - 6.2.

## Key Concepts

- understand why software security is important -- your most likely
  security-related role if you will be a developer
- the importance of thinking like an attacker if you are a defender
- we study C because it is filled with security vulnerabilities, these are still
  prevalent, and we see them plague other languages as well

### Race Conditions

- TOCTOU race

  - see
    [Figure 6.1, page 157](https://people.scs.carleton.ca/~paulv/toolsjewels/TJrev1/ch6-rev1.pdf)
  - see the subsequent example
  - walk through example in Figure 6.2

- the book walks through various approaches and discusses pros and cons -- this
  is useful to understanding offensive and defensive thinking

### Integer-based vulnerabilities

- understand C data types, unsigned and signed versions
  - see table 6.1
  - modern C uses uint16_t and int16_t
  - what happens if you convert types, e.g. through casting?
- understand two's complement -- see
  [Table 6.3, page 164](https://people.scs.carleton.ca/~paulv/toolsjewels/TJrev1/ch6-rev1.pdf)

- integer underflow and overflow

  - see Example on _Integer overflow on multiplication_

- see
  [Table 6.2, page 163](https://people.scs.carleton.ca/~paulv/toolsjewels/TJrev1/ch6-rev1.pdf)
  for examples of integer vulnerabilities

- see the software consequences list, 1 through 4, page 163

- mitigations -- compiler flags to catch integer errors, developer toolsets,
  safe integer library functions

- it would be great to switch to a better language (Rust!) but we have to live
  with what we have for now

## Class Exercises

See the [software security repo](https://github.com/BYU-CS465/software-security)
for code we will use:

- In `toctou` we will run an inventory program with a vulnerability, then fix it
  with mutexes. We will then live-code a monitor-like solution to provide better
  scalability and reliability.
- In `integer` we will run `rectangular`, which has an integer overflow problem,
  and `waiting-list`, which has an integer underflow problem.
- For both of these we will explain the Docker and Makefile setup that
  accompanies this code.
